<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Maternal Health Analysis Tools • maternalhealthtools</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Maternal Health Analysis Tools">
<meta name="description" content="Provides functions to clean maternal health data, train and test models including multinomial logistic regression and random forest, and generate informative visualizations.">
<meta property="og:description" content="Provides functions to clean maternal health data, train and test models including multinomial logistic regression and random forest, and generate informative visualizations.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">maternalhealthtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/maternalhealthtools-vignette.html">Introduction to maternalhealthtools</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="maternalhealthtools">maternalhealthtools<a class="anchor" aria-label="anchor" href="#maternalhealthtools"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of maternalhealthtools is to provide reusable functions for cleaning, training, testing, and visualizing maternal health data. It includes tools for handling missing or inconsistent data, training and testing multinomial logistic regression and random forest models, and generating plot for exploratory analysis and model interpretation.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of maternalhealthtools from:</p>
<p><a href="https://github.com/DSCI-310-2025/maternalhealthtools.git" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"DSCI-310-2025/maternalhealthtools"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>A common task when dealing with maternal health data involves checking for missing values, cleaning data, and examining unique values from the target column. This is where functions like check_na(), clean(), and get_targets() are useful.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dsci-310-2025.github.io/maternalhealthtools/">maternalhealthtools</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Sample dataset</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="cn">NA</span>, <span class="fl">35</span>, <span class="fl">40</span>, <span class="fl">45</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  BloodPressure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">120</span>, <span class="fl">130</span>, <span class="cn">NA</span>, <span class="fl">110</span>, <span class="fl">140</span>, <span class="fl">125</span><span class="op">)</span>,</span>
<span>  RiskLevel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"low risk"</span>, <span class="st">"mid risk"</span>, <span class="st">"high risk"</span>, <span class="cn">NA</span>, <span class="st">"high risk"</span>, <span class="st">"mid risk"</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/check_na.html">check_na</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span><span class="co">#&gt;   feature          na</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;         &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Age               1</span></span>
<span><span class="co">#&gt; 2 BloodPressure     1</span></span>
<span><span class="co">#&gt; 3 RiskLevel         1</span></span></code></pre></div>
<p>check_na() summarizes the number of missing values for each column. This makes it easier to spot where cleaning is needed.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cleaned_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/clean.html">clean</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">RiskLevel</span><span class="op">)</span></span>
<span><span class="va">cleaned_df</span></span>
<span><span class="co">#&gt;   Age BloodPressure RiskLevel</span></span>
<span><span class="co">#&gt; 1  25           120  low risk</span></span>
<span><span class="co">#&gt; 2  45           140 high risk</span></span>
<span><span class="co">#&gt; 3  30           125  mid risk</span></span></code></pre></div>
<p>clean() ensures that the target variable is properly formatted as a factor and removes the missing data.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_targets.html">get_targets</a></span><span class="op">(</span><span class="va">cleaned_df</span>, <span class="va">RiskLevel</span><span class="op">)</span></span>
<span><span class="co">#&gt;   RiskLevel</span></span>
<span><span class="co">#&gt; 1  low risk</span></span>
<span><span class="co">#&gt; 2 high risk</span></span>
<span><span class="co">#&gt; 3  mid risk</span></span></code></pre></div>
<p>get_targets() returns the unique values of the target column. This is especially useful when working with large datasets and for understanding the class distribution before modeling.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example training data</span></span>
<span><span class="va">train_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">30</span>, <span class="fl">35</span><span class="op">)</span>,</span>
<span>  SystolicBP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">120</span>, <span class="fl">130</span>, <span class="fl">110</span><span class="op">)</span>,</span>
<span>  DiastolicBP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">80</span>, <span class="fl">85</span>, <span class="fl">75</span><span class="op">)</span>,</span>
<span>  BS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5.6</span>, <span class="fl">6.2</span>, <span class="fl">4.9</span><span class="op">)</span>,</span>
<span>  BodyTemp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">98.6</span>, <span class="fl">99.1</span>, <span class="fl">97.9</span><span class="op">)</span>,</span>
<span>  HeartRate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">72</span>, <span class="fl">80</span>, <span class="fl">76</span><span class="op">)</span>,</span>
<span>  RiskLevel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"low risk"</span>, <span class="st">"mid risk"</span>, <span class="st">"high risk"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">mlr_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/training_mlr_model.html">training_mlr_model</a></span><span class="op">(</span><span class="va">train_data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mlr_model</span><span class="op">)</span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; nnet::multinom(formula = RiskLevel ~ ., data = train_data, trace = FALSE)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;          (Intercept)       Age SystolicBP DiastolicBP        BS   BodyTemp</span></span>
<span><span class="co">#&gt; low risk  0.08007772 -31.23502   9.632075    6.417592 0.6714557   8.340112</span></span>
<span><span class="co">#&gt; mid risk -0.35495554 -10.62350  24.546617    5.174198 2.2761942 -31.170615</span></span>
<span><span class="co">#&gt;             HeartRate</span></span>
<span><span class="co">#&gt; low risk -20.81487193</span></span>
<span><span class="co">#&gt; mid risk  -0.09997695</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Std. Errors:</span></span>
<span><span class="co">#&gt;          (Intercept)          Age  SystolicBP  DiastolicBP           BS</span></span>
<span><span class="co">#&gt; low risk 2.71479e+36 6.786981e+37 3.25775e+38 2.171833e+38 1.520283e+37</span></span>
<span><span class="co">#&gt; mid risk 2.71479e+36 6.786981e+37 3.25775e+38 2.171833e+38 1.520283e+37</span></span>
<span><span class="co">#&gt;              BodyTemp   HeartRate</span></span>
<span><span class="co">#&gt; low risk 2.676783e+38 1.95465e+38</span></span>
<span><span class="co">#&gt; mid risk 2.676783e+38 1.95465e+38</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual Deviance: 0 </span></span>
<span><span class="co">#&gt; AIC: 12</span></span></code></pre></div>
<p>training_mlr_model() trains a multinomial logistic regression model based on the data.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rf_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/training_rf_model.html">training_rf_model</a></span><span class="op">(</span><span class="va">train_data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">rf_model</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt;  randomForest(formula = RiskLevel ~ ., data = train_data, ntree = 500,      importance = TRUE) </span></span>
<span><span class="co">#&gt;                Type of random forest: classification</span></span>
<span><span class="co">#&gt;                      Number of trees: 500</span></span>
<span><span class="co">#&gt; No. of variables tried at each split: 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         OOB estimate of  error rate: 100%</span></span>
<span><span class="co">#&gt; Confusion matrix:</span></span>
<span><span class="co">#&gt;           high risk low risk mid risk class.error</span></span>
<span><span class="co">#&gt; high risk         0        1        0           1</span></span>
<span><span class="co">#&gt; low risk          1        0        0           1</span></span>
<span><span class="co">#&gt; mid risk          0        1        0           1</span></span></code></pre></div>
<p>Similarly, training_rf_model() builds a random forest model using the default of 500 trees.</p>
<p>The testing() function loads a saved classification model (e.g., .rds file) and applies it to a test dataset to generate predictions. The class probabilities are also available but is disabled by default.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example usage</span></span>
<span><span class="co"># testing("path/to/mlr_model.rds", test_data)</span></span></code></pre></div>
<p>Note: Since the function depends on a trained model file, examples are not run in the README file.</p>
<p>The visualization() helps generate three types of plots:</p>
<ol style="list-style-type: decimal">
<li>Confusion Matrix plot</li>
<li>Random Forest Feature Importance plot</li>
<li>Predicted Probability vs Blood Sugar plot</li>
</ol>
<p>This function is useful for model visualization and interpretation. It saves the generated plot to a file in the specified output directory.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example usage</span></span>
<span><span class="co"># 1. Confusion Matrix Plot example</span></span>
<span></span>
<span><span class="co"># helper_conf_table &lt;- data.frame(</span></span>
<span><span class="co">#                True = c("low risk", "mid risk", "high risk",</span></span>
<span><span class="co">#                        "low risk", "mid risk", "high risk",</span></span>
<span><span class="co">#                        "low risk", "mid risk", "high risk"),</span></span>
<span><span class="co">#                Predicted = c("low risk", "low risk", "low risk",</span></span>
<span><span class="co">#                                "mid risk", "mid risk", "mid risk",</span></span>
<span><span class="co">#                                "high risk", "high risk", "high risk"),</span></span>
<span><span class="co">#                Frequency = c(9, 17, 9, 10, 6, 9, 8, 14, 18),</span></span>
<span><span class="co">#                Percentage = c(33.3, 45.9, 25.0, 37.0, 16.2, 25.0, 29.6, 37.8, 50.0))</span></span>
<span><span class="co">#                </span></span>
<span><span class="co"># visualization("conf_matrix", helper_conf_table, conf_type = "mlr", output_dir = "outputs")</span></span>
<span></span>
<span></span>
<span><span class="co"># 2. Random Forest Feature Importance plot</span></span>
<span></span>
<span><span class="co"># rf_model &lt;- training_rf_model(train_data)</span></span>
<span></span>
<span><span class="co"># visualization("feature_importance", rf_model, conf_type = NULL, output_dir = "outputs")</span></span>
<span></span>
<span><span class="co"># 3. Predicted Probability vs Blood Sugar plot</span></span>
<span></span>
<span><span class="co"># prob_table &lt;- data.frame(</span></span>
<span><span class="co">#   BS = c(4.5, 5.0, 5.5, 6.0, 6.5, 7.0),</span></span>
<span><span class="co">#   Probability = c(0.2, 0.3, 0.5, 0.6, 0.7, 0.9),</span></span>
<span><span class="co">#   RiskLevel = factor(c("low risk", "low risk", "mid risk", "mid risk", "high risk", "high risk"))</span></span>
<span><span class="co">#   )</span></span>
<span></span>
<span><span class="co"># visualization("pred_prob", prob_table, conf_type = NULL, output_dir = "outputs")</span></span></code></pre></div>
<p>Note: Since the function depends on input and output files, examples are not run in the README file. For more information on the visualization() function, reading the visualization.R script is recommended.</p>
</div>
<div class="section level2">
<h2 id="position-in-the-r-package-ecosystem">Position in the R Package Ecosystem<a class="anchor" aria-label="anchor" href="#position-in-the-r-package-ecosystem"></a>
</h2>
<p>The maternalhealthtools package provides a small set of helper functions to support data analysis workflows. It combines common tasks such as cleaning data, training and testing models, and generating visualizations. While the functions in this package are built on widely used R packages like dplyr, randomForest, and ggplot2, they are meant to simplify repetitive steps. Compared to other packages, maternalhealthtools provides a lighter and more specific use case like maternal health classification. It offers a predefined workflow that reduces the amount of repeated code.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing maternalhealthtools</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Roy Oh <br><small class="roles"> Author, maintainer </small>  </li>
<li>Kim Tan Palanca <br><small class="roles"> Author </small>  </li>
<li>Nicolas Zhu <br><small class="roles"> Author </small>  </li>
<li>Mengen Liu <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/DSCI-310-2025/maternalhealthtools/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/DSCI-310-2025/maternalhealthtools/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Roy Oh, Kim Tan Palanca, Nicolas Zhu, Mengen Liu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
